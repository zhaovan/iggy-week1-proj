(this["webpackJsonpiggy-week1-proj"]=this["webpackJsonpiggy-week1-proj"]||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(6),i=n.n(s),a=(n(11),n(2)),o=n.n(a),l=n(4),u=n(3);n(13);function d(e,t,n,c){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(o.a.mark((function e(t,n,c,r){var s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="https://api.askiggy.com/v1/points_of_interest?latitude="+t+"&longitude="+n+"&labels="+c+"&within_minutes_walking="+r,e.next=3,fetch(s,{method:"GET",headers:{Accept:"application/json","X-Iggy-Token":"edd915d78cbed13e2e69868f4c115ec"}}).then((function(e){return console.log(e),e.json()})).catch((function(e){console.error(e)}));case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,n){return p.apply(this,arguments)}function p(){return(p=Object(l.a)(o.a.mark((function e(t,n,c){var r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.askiggy.com/v1/lookup?latitude="+t+"&longitude="+n+"&labels="+c,e.next=3,fetch(r,{method:"GET",headers:{Accept:"application/json","X-Iggy-Token":"edd915d78cbed13e2e69868f4c115ec"}}).then((function(e){return console.log(e),e.json()})).catch((function(e){console.error(e)}));case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return f.apply(this,arguments)}function f(){return(f=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.askiggy.com/v1/points_of_interest_options",e.next=3,fetch("https://api.askiggy.com/v1/points_of_interest_options",{method:"GET",headers:{Accept:"application/json","X-Iggy-Token":"edd915d78cbed13e2e69868f4c115ec"}}).then((function(e){return console.log(e),e.json()})).catch((function(e){console.error(e)}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=n(0);var O=function(){var e=Object(c.useState)(-93.271205),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(44.976469),i=Object(u.a)(s,2),a=i[0],j=i[1],p=Object(c.useState)(null),f=Object(u.a)(p,2),O=f[0],x=f[1],m=Object(c.useState)(1),v=Object(u.a)(m,2),y=v[0],w=v[1],k=Object(c.useState)(null),S=Object(u.a)(k,2),T=S[0],A=S[1],_=Object(c.useState)("bars"),C=Object(u.a)(_,2),N=C[0],I=C[1],L=Object(c.useState)(null),F=Object(u.a)(L,2),G=F[0],B=F[1],E=Object(c.useState)(null),P=Object(u.a)(E,2),X=P[0],D=P[1],J=Object(c.useState)(null),W=Object(u.a)(J,2),z=W[0],M=W[1],R=Object(c.useState)(!1),U=Object(u.a)(R,2),V=U[0],Y=U[1];function q(e){M(e===O)}function H(){return(H=Object(l.a)(o.a.mark((function e(){var t,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(null),M(null),e.next=4,fetch("https://randomuser.me/api/",{headers:{"Allow-Control-Access-Origin":"*"}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 4:return(t=e.sent)&&(j(1*t.results[0].location.coordinates.latitude),r(1*t.results[0].location.coordinates.longitude)),e.next=8,h(a,n,"is_urban");case 8:return c=e.sent,e.next=11,b();case 11:s=e.sent,A(s.labels),1!==c.is_urban?x(!1):x(!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!0),e.next=3,d(a,n,N,y);case 3:(t=e.sent).message?B("There was none here, try again!"):D(t[N]),Y(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("div",{style:{fontSize:"64px",fontFamily:"Aeonik",marginBottom:"2%",textAlign:"center"},children:"Guess if the random location is urban or not!"}),Object(g.jsx)("button",{className:"button",onClick:function(){return H.apply(this,arguments)},style:{marginLeft:"43%"},children:"Generate New Location!"}),null!==O?Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{style:{marginLeft:"43%",marginTop:"2%"},children:[Object(g.jsx)("div",{className:"label header",children:"Is this location urban?"}),Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(g.jsx)("button",{className:"button",onClick:function(){return q(!0)},children:"Yes!"}),Object(g.jsx)("button",{className:"button",onClick:function(){return q(!1)},children:"No!"})]})]}),null==z?Object(g.jsx)("div",{}):z?Object(g.jsxs)("div",{style:{textAlign:"center"},children:["Congrats you won! The point was specifically (",a,","," ",n,")"]}):Object(g.jsxs)("div",{style:{textAlign:"center"},children:["Woops! That was the wrong answer, try again!"," "]}),Object(g.jsxs)("div",{style:{marginTop:"4%",display:"flex",border:"1px solid",width:"50%",marginLeft:"auto",marginRight:"auto",padding:"2%"},children:[Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{style:{marginBottom:"2%",width:"90%"},children:["Use the below API call to help you out! This connects directly with the Iggy points of interest API to find relevant points of interests in a certain radius around a location"," "]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"label",children:"Walking distance from this location (in whole minutes)"}),Object(g.jsx)("input",{onChange:function(e){w(e.target.value)},value:y})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"label",children:"Select the type of point of interest you're looking for"}),Object(g.jsx)("select",{name:"type",id:"type",className:"dropdown",defaultValue:"bars",onChange:function(e){I(e.target.value)},children:T&&T.map((function(e){return Object(g.jsx)("option",{value:e,children:e})}))})]}),Object(g.jsx)("button",{className:"button",onClick:function(){return K.apply(this,arguments)},children:"Search for nearby points of interest!"})]}),Object(g.jsxs)("div",{children:[X?X.map((function(e){return Object(g.jsx)("div",{children:e.name})})):null==G?Object(g.jsx)("div",{}):Object(g.jsxs)("div",{children:[" ","There were no results for these paramteres, try something else!"]}),V?Object(g.jsx)("div",{children:"Loading..."}):Object(g.jsx)("div",{})]})]})]}):Object(g.jsx)("div",{})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),s(e),i(e)}))};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(O,{})}),document.getElementById("root")),x()}},[[15,1,2]]]);
//# sourceMappingURL=main.010c0772.chunk.js.map