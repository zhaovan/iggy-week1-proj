(this["webpackJsonpiggy-week1-proj"]=this["webpackJsonpiggy-week1-proj"]||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(6),a=n.n(s),i=(n(11),n(2)),o=n.n(i),l=n(4),u=n(3);n(13);function d(e,t,n,c){return p.apply(this,arguments)}function p(){return(p=Object(l.a)(o.a.mark((function e(t,n,c,r){var s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="https://api.askiggy.com/v1/points_of_interest?latitude="+t+"&longitude="+n+"&labels="+c+"&within_minutes_walking="+r,e.next=3,fetch(s,{method:"GET",headers:{Accept:"application/json","X-Iggy-Token":"edd915d78cbed13e2e69868f4c115ec"}}).then((function(e){return console.log(e),e.json()})).catch((function(e){console.error(e)}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,n){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(o.a.mark((function e(t,n,c){var r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.askiggy.com/v1/lookup?latitude="+t+"&longitude="+n+"&labels="+c,e.next=3,fetch(r,{method:"GET",headers:{Accept:"application/json","X-Iggy-Token":"edd915d78cbed13e2e69868f4c115ec"}}).then((function(e){return console.log(e),e.json()})).catch((function(e){console.error(e)}));case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return f.apply(this,arguments)}function f(){return(f=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.askiggy.com/v1/points_of_interest_options",e.next=3,fetch("https://api.askiggy.com/v1/points_of_interest_options",{method:"GET",headers:{Accept:"application/json","X-Iggy-Token":"edd915d78cbed13e2e69868f4c115ec"}}).then((function(e){return console.log(e),e.json()})).catch((function(e){console.error(e)}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=n(0);var O=function(){var e=Object(c.useState)(-93.271205),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(44.976469),a=Object(u.a)(s,2),i=a[0],p=a[1],h=Object(c.useState)(null),f=Object(u.a)(h,2),O=f[0],x=f[1],m=Object(c.useState)(null),v=Object(u.a)(m,2),y=v[0],k=v[1],w=Object(c.useState)(null),S=Object(u.a)(w,2),T=S[0],_=S[1],C=Object(c.useState)("bars"),N=Object(u.a)(C,2),A=N[0],I=N[1],L=Object(c.useState)(null),F=Object(u.a)(L,2),G=(F[0],F[1],Object(c.useState)(null)),B=Object(u.a)(G,2),E=B[0],P=B[1],X=Object(c.useState)(null),D=Object(u.a)(X,2),J=(D[0],D[1],Object(c.useState)(null)),z=Object(u.a)(J,2),M=z[0],R=z[1];function U(e){R(e===O)}function V(){return(V=Object(l.a)(o.a.mark((function e(){var t,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.3geonames.org/?randomland=yes&json=1").then((function(e){return e})).catch((function(e){console.log(e)}));case 2:return(t=e.sent)&&(p(1*t.nearest.latt),r(1*t.nearest.longt)),e.next=6,j(i,n,"is_urban");case 6:return c=e.sent,e.next=9,b();case 9:s=e.sent,_(s.labels),1!==c.is_urban?x(!1):x(!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(i,n,A,y);case 2:t=e.sent,P(t[A]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("div",{style:{fontSize:"64px",fontFamily:"Aeonik",marginBottom:"2%",textAlign:"center"},children:"Guess if the random location is urban or not!"}),Object(g.jsx)("button",{className:"button",onClick:function(){return V.apply(this,arguments)},style:{marginLeft:"43%"},children:"Generate Location!"}),null!==O?Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{style:{marginLeft:"43%",marginTop:"2%"},children:[Object(g.jsx)("div",{className:"label header",children:"Is this location urban?"}),Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(g.jsx)("button",{className:"button",onClick:function(){return U(!0)},children:"Yes!"}),Object(g.jsx)("button",{className:"button",onClick:function(){return U(!1)},children:"No!"})]})]}),null==M?Object(g.jsx)("div",{}):M?Object(g.jsxs)("div",{style:{textAlign:"center"},children:["Congrats you won! The point was specifically (",i,","," ",n,")"]}):Object(g.jsx)("div",{children:"Try again loser "}),Object(g.jsxs)("div",{style:{marginTop:"4%",display:"flex",border:"1px solid",width:"50%",marginLeft:"auto",marginRight:"auto",padding:"2%"},children:[Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{style:{marginBottom:"2%",width:"90%"},children:["Use the below API call to help you out! This connects directly with the Iggy points of interest API to find relevant points of interests in a certain radius around a location"," "]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"label",children:"Walking distance from this location (in whole minutes)"}),Object(g.jsx)("input",{onChange:function(e){k(e.target.value)}})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"label",children:"Select the type of point of interest you're looking for"}),Object(g.jsx)("select",{name:"type",id:"type",className:"dropdown",defaultValue:"bars",onChange:function(e){I(e.target.value)},children:T&&T.map((function(e){return Object(g.jsx)("option",{value:e,children:e})}))})]}),Object(g.jsx)("button",{className:"button",onClick:function(){return W.apply(this,arguments)},children:"Search for nearby points of interest!"})]}),Object(g.jsx)("div",{children:E?E.map((function(e){return Object(g.jsx)("div",{children:e.name})})):null==E?Object(g.jsx)("div",{}):Object(g.jsx)("div",{children:"There were no results for these paramteres, try something else!"})})]})]}):Object(g.jsx)("div",{})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(O,{})}),document.getElementById("root")),x()}},[[15,1,2]]]);
//# sourceMappingURL=main.2dfd9d57.chunk.js.map